<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core" template="decorator.xhtml">

	<ui:define name="titulo">Cadastro de mapas</ui:define>
	<ui:define name="h1">Cadastro de mapa</ui:define>

	<ui:define name="contents">
		<h:form>
Nome: <h:inputText value="#{mapaMB.mapa.nome}" />
			<br />
Descricao: <h:inputText value="#{mapaMB.mapa.descricao}" />
			<br />
Ontologia: <h:inputText value="#{mapaMB.mapa.ontologia}" />
			<br />
			<h:commandButton action="#{mapaMB.salvarMapa}" value="salvar" />
			<br />
			<!-- 						<h:link outcome="listar_anotacoes" value="anotacoes"> -->
			<!-- 							<f:param name="mapa" value="#{mapaMB.mapa.id}" /> -->
			<!-- 						</h:link> -->
			<h:commandButton action="#{mapaMB.prepararAdicionarAnotacao}"
				value="anotacoes" />
			<br />
			<h:commandLink action="listar_mapas" value="Voltar" />
		</h:form>
		<br />

		<!-- 		TABELA DE CATEGORIAS DE UM MAPA -->

		<c:if test="#{mapaMB.exibirCategorias eq 1}">
			<h2>Lista de categorias</h2>
			<h:dataTable var="categoria" value="#{mapaMB.listarCategorias}">
				<h:column>
					<f:facet name="header">
						<h:outputText value="nome" />
					</f:facet>
					<h:outputText value="#{categoria.nome}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="tipo" />
					</f:facet>
					<h:outputText value="#{categoria.tipo}" />
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="modificar" />
					</f:facet>
					<h:form>
						<h:commandButton action="#{mapaMB.prepararAlterarCategoria}"
							value="modificar" />
					</h:form>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="apagar" />
					</f:facet>
					<h:form>
						<h:commandButton action="#{mapaMB.excluirCategoria}"
							value="apagar" />
					</h:form>
				</h:column>
			</h:dataTable>
			<br />
			<h:form>
				<h:commandLink value="nova categoria"
					action="#{mapaMB.prepararAdicionarCategoria}" />
			</h:form>
		</c:if>
	</ui:define>
</ui:composition>